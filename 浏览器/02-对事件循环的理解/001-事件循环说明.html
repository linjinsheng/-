<!DOCTYPE html>
<html>
  <head>
    <title>DEMO</title>
  </head>
  <body>
    <div id="container"> 
    </div>
    
    <script>
    console.log('*******************************')
    /*
      1、JS是单线程
      2、事件循环机制由三部分组成:调用栈、微任务队列、消息队列
    */ 

    /*
      调用栈
      event-loop开始的时候,会从全局一行一行的执行,遇到函数调用时,会压入到调用栈中,被压入的函数称之为帧,
      当函数返回后会从调用栈弹出
    */ 

    /*
      消息队列
      js中的异步操作,比如fetch、setTimeout、setInterval压入到调用栈中的时候里面的消息会进去到消息
      队列中,消息队列会等到调用栈清空之后再执行
    */

    /*
      微任务队列
      promise、async await的异步操作的时候会加入到微任务中,会在调用栈清空的时候立即执行
      调用栈中加入的微任务会立即执行
    */ 


    /*
      Event Loop 执行顺序如下所示: 
      1、首先执行同步代码，这属于宏任务;
      2、当执行完所有同步代码后，执行栈为空，查询是否有异步代码需要执行
      3、执行所有微任务 当执行完所有微任务后，如有必要会渲染页面 
      4、然后开始下一轮 Event Loop，执行宏任务中的异步代码
    */
    </script>
  </body>
</html>
