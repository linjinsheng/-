<!DOCTYPE html>
<html>
  <head>
    <title>DEMO</title>
  </head>
  <body>
    <div id="container"> 
    </div>
    
    <script>
    console.log('*******************************')
    /**
      回流
      一、概念
      当渲染树部分或全部元素的尺寸、结构或属性发生变化时,浏览器会重新渲染部分或全部文档的过程;
      二、导致回流的操作
      1、页面的首次渲染;
      2、浏览器的窗口大小发生变化;
      3、元素的内容发生变化;
      4、元素的尺寸或者位置发生变化;
      5、元素的字体大小发生变化;
      6、激活CSS伪类;
      7、查询某些属性
      8、添加或删除可见的dom元素
      三、影响范围
      1、全局范围: 从根节点开始,对整个渲染树进行重新布局;
      2、局部范围: 从渲染树的某部分或者一个渲染对象进行重新布局.

      重绘
      一、概念
      当页面中某些元素的样式发生变化,但是不影响其在文档流中的位置时,浏览器就会对元素进行重新绘制;

      二、导致重绘的操作
      1、color、background的相关属性:background-color、background-image等;
      2、outline相关属性: outline-color、outline-width、text-decoration
      3、border-radius、visiblity、box-shadow
      
      当触发回流时,一定会触发重绘,但重绘不一定引发回流.

      如何减少重绘和重排
      1、操作DOM时,尽量在底层级的DOM节点进行操作;
      2、不要使用table布局,一个小的改动就可能使整个table进行重新布局;
      3、使用css的表达式;
      4、不要频繁操作原元素的样式,对于静态页面，可以修改类名，而不是样 式。
      5、使用absolute或者fixed,使元素脱离文档流,发生变化也不会影响其他元素;
      6、避免频繁操作DOM,可以创建一个文档片段documentFragment，在它上面应用所有DOM操作，最后再把它添加到文档中
      7、将元素先设置为display:none,操作结束后再把它显示出来,不会引发回流和重绘;
      8、将DOM的多个读操作(或者写操作)放在一起，而不是读写操作穿插着写,这得益于浏览器的渲染队列机制。
      9、使用transform来代替top、left,减少回流重绘次数;
      10、不要把获取DOM节点的属性放在一个循环里当成循环的变量;
      11、动画需要频繁的操作DOM，会导致页面的性能问题，将动画的position属性设置为 absolute 或者 fixed，
         将动画脱离文档流，这样他的回流就 不会影响到页面了。
     */
    </script>
  </body>
</html>
